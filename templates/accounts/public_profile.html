{% extends 'base.html' %}
{% block content %}
  <h1>Public Profile</h1>
  <p>Username: {{ profile_user.username }}</p>
  <p>Email: {{ profile_user.email }}</p>

  {% include "accounts/include/user_following_list.html" with following_users=profile_user.following.all %}
  
  <h1>Followers</h1>
  <ul>
    {% for follow in profile_user.followers.all %}
      <li>{{ follow.follower.username }}</li>
    {% empty %}
      <li>This user has no followers yet</li>
    {% endfor %}
  </ul>

  <h2>Categories</h2>
  <ul>
    {% for category in categories %}
      <li class="{% if category.parent_id %}pl-3{% endif %}">
        <a href="{% url 'public-profile-category' slug=profile_user.username category_id=category.id %}">
          {{ category.name }}
        </a>
      </li>
    {% endfor %}
  </ul>

  <h2>Posts</h2>
  {% if posts %}
    {% for post in posts %}
      <div>
        <h3>{{ post.title }}</h3> <!-- 가정: Post 모델에 title 필드가 있다고 가정합니다. -->
        <p>{{ post.content }}</p>
      </div>
    {% endfor %}
  {% else %}
    <p>No posts found for this category.</p>
  {% endif %}
{% endblock %}
